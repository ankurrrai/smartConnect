class chatEngine{constructor(e,s,t){this.chatBoxId=$(`#${e}`),this.userEmail=s,this.userId=t,this.socket=io.connect("http://localhost:5000"),this.userEmail&&this.connectionhandler()}connectionhandler(){let e=this;this.socket.on("connect",(function(){e.socket.emit("join_room",{userEmail:e.userEmail,chatRoom:"smartConnect"}),e.socket.on("user_joined",(function(e){})),$("#send-button").click((function(){let s=$("#input-message").val();""!=s&&e.socket.emit("send_message",{message:s,userEmail:e.userEmail,chatRoom:"smartConnect"}),$("#input-message").val("")})),$("#input-message").keypress((function(s){if(13===s.which){let s=$("#input-message").val();""!=s&&e.socket.emit("send_message",{message:s,userEmail:e.userEmail,chatRoom:"smartConnect"}),$("#input-message").val("")}})),e.socket.on("receive_message",(function(s){let t=document.createElement("div"),a="message other-message",n="message-bubble-other";s.userEmail==e.userEmail&&(a="message user-message",n="message-bubble"),t.innerHTML=`<div class="avatar"><img src="\\uploads\\users\\avatars/avatar-1700146987024-299049559" alt="Notfound"></div>\n                <div class="${n}">${s.message}</div>\n                <div class="timestamp">10:35 AM</div>`,t.setAttribute("class",a),$("#chat-box-messages").append(t)}))}))}}